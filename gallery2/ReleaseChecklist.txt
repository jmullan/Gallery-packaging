Preliminary release checklist

Checklist
- before RC-1 of any release:
  - check for available updates of adodb, smarty, etc
  - bump version in GalleryTemplate.class to trigger clear of smarty cache for upgraders
  - bump version number in header images for installer/upgrader
- commit language updates from translations tracker
- add/update Gallery2:module:* codex pages
- make sure all unit tests pass
- review and update the README.html.
  - Make sure that its title, codename/introduction and logo buttons are correct
- bump version for every plugin that has changed since last release but hasn't changed version
  (update values in changed-plugins.sh and run it)
- bump modules/core/module.inc CoreModule::setGalleryVersion
- bump core/module.inc CoreModule::setVersion (update modules/core/CoreModulesExtras::upgrade, too)
- Make sure modules/core/classes/GalleryTemplateAdapter.class has has correct logo and version text
- update all translations
- update all MANIFEST files
- Sync a different workspace and verify:
  - upgrading works
  - installer system check doesn't report any missing/modified files
    (verify on Unix and Windows)
- make sure all image files are binary
- create a branch (if necessary)   <---------- DON'T FORGET TO DO THIS FOR EACH .0 RELEASE!
  - svn mkdir https://svn.sourceforge.net/svnroot/gallery/branches/BRANCH_2_1
  - svn copy https://svn.sourceforge.net/svnroot/gallery/trunk/gallery2 https://svn.sourceforge.net/svnroot/gallery/branches/BRANCH_2_1
- tag the release
  - svn copy https://svn.sourceforge.net/svnroot/gallery/branches/BRANCH_2_1 https://svn.sourceforge.net/svnroot/gallery/tags/RELEASE_2_1_1
- Update preinstaller/preinstall.php
  - Update @versionId to match current version
  - Update release numbers in various urls
- Update the BRANCH and PATCH_FOR vars in build.php
- build.php scrub
- build.php release
  * mv tmp/update-...-.zip to dist
- build.php preinstaller
- run "find-already-uploaded-packages.php --delete" to remove any packages that already
  exist in sf.net.  Make sure those packages didn't miss a version bump, and
  if they didn't change since the last release delete them from dist/

  <================ PROBLEM
  Running this means that "build.php export" won't try to upload stuff that is already
  out in the repository, but it means that update-codex-download-page.php is going to
  fail because it won't be able to get file sizes for anything that gets deleted.
  Possible solution: Tweak "build.php export" to not upload anything that's already
  out there.
  <===============

- build.php export
- Release the package on sf.net
  - Create a new release in the 'gallery2' release (if necessary) and upload the
    distributions via the web interface
  - Create a new release in the 'gallery2 plugins' release (if necessary) and add
    all the modules and themes to the release via the web interface
  - use releaseforge.sf.net to set the file types and architecture
  - hide the N-2 releases
- Update Gallery2:Download on the codex
  - Edit RELEASE in update-codex-download-page.php
  - Run update-codex-download-page.php
  - Cut and paste its output on to Gallery2:Download
  - Click "show changes" and verify what you see
- Update Gallery2:Upgrading_to_2.1.x if necessary
- For RC releases, post forum topic for reporting/tracking issues
- Update http://gallery.menalto.com/downloadblock
- Update http://gallery.menalto.com/downloads
- Post announcements/*
- check http://gallery.menalto.com/sfvote/stats and send emails for completed items
